import{b as V}from"./chunk-UEYM3AXK.js";import{B as S,E as o,Fa as T,G as C,Ga as N,Ha as E,I as O,L as D,M as L,Pa as P,R as F,T as j,Wa as Z,X as k,bb as q,db as B,fb as U,ha as c,i as s,j as m,ja as x,k as p,m as f,ma as M,n as g,na as R,o as u,p as y,q as v,qb as W,s as d,t as A,u as l,v as b,w,wa as $,z as I}from"./chunk-X2AQS727.js";var tt=(n,a)=>{let t=o(V),e=o(W),i=localStorage.getItem("pocketbase_auth");if(i==null)return e.parseUrl("/auth");let{token:r}=JSON.parse(i);if(r){if(t.setToken(r),!t.isAuthenticated())return console.log("Token is invalid or expired"),e.parseUrl("/auth")}else return console.log("No token found"),e.parseUrl("/auth");return!0};function h(n){n||(D(h),n=o(j));let a=new s(t=>n.onDestroy(t.next.bind(t)));return t=>t.pipe(b(a))}var Q=["container"],K=new S("LottieOptions");function J(){let n=o(c),{player:a,useWebWorker:t}=o(K),e=n.runOutsideAngular(()=>a());return(Z(e)?f(e).pipe(u(r=>r.default||r)):g(e)).pipe(w(r=>r.useWebWorker?.(t)),A({bufferSize:1,refCount:!0}))}var _=(()=>{class n{constructor(){this.player$=J().pipe(y(t=>z(this.ngZone).pipe(u(()=>t)))),this.ngZone=o(c)}loadAnimation(t){return this.player$.pipe(u(e=>this.createAnimationItem(e,t)))}resolveOptions(t,e){return Object.assign({container:e,renderer:"svg",loop:!0,autoplay:!0},t)}createAnimationItem(t,e){return this.ngZone.runOutsideAngular(()=>t.loadAnimation(e))}static{this.\u0275fac=function(e){return new(e||n)}}static{this.\u0275prov=I({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function z(n){return new s(a=>{let t=n.runOutsideAngular(()=>requestAnimationFrame(()=>{a.next(),a.complete()}));return()=>cancelAnimationFrame(t)})}function $t(n){return[{provide:K,useValue:n}]}var G=(()=>{class n{constructor(){this.options=null,this.containerClass=null,this.styles=null,this.animationCreated=this.getAnimationItem(),this.complete=this.awaitAnimationItemAndStartListening("complete"),this.loopComplete=this.awaitAnimationItemAndStartListening("loopComplete"),this.enterFrame=this.awaitAnimationItemAndStartListening("enterFrame"),this.segmentStart=this.awaitAnimationItemAndStartListening("segmentStart"),this.configReady=this.awaitAnimationItemAndStartListening("config_ready"),this.dataReady=this.awaitAnimationItemAndStartListening("data_ready"),this.domLoaded=this.awaitAnimationItemAndStartListening("DOMLoaded"),this.destroy=this.awaitAnimationItemAndStartListening("destroy"),this.error=this.awaitAnimationItemAndStartListening("error"),this.ngZone=o(c),this.isBrowser=U(o(k)),this.animationLoader=o(_),this.loadAnimation$=new m,this.animationItem$=new p(null),this.setupLoadAnimationListener()}ngOnDestroy(){this.destroyAnimation()}loadAnimation(t,e){this.ngZone.runOutsideAngular(()=>this.loadAnimation$.next([t,e]))}getAnimationItem(){return v(()=>this.animationItem$).pipe(d(t=>t!==null))}awaitAnimationItemAndStartListening(t){return this.getAnimationItem().pipe(l(e=>new s(i=>{this.ngZone.runOutsideAngular(()=>{e.addEventListener(t,r=>{this.ngZone.runOutsideAngular(()=>{i.next(r)})})})})))}setupLoadAnimationListener(){this.loadAnimation$.pipe(d(([e])=>this.isBrowser&&e.options!==void 0)).pipe(l(([e,i])=>(this.destroyAnimation(),this.animationLoader.loadAnimation(this.animationLoader.resolveOptions(e.options.currentValue,i)))),h()).subscribe(e=>{this.ngZone.run(()=>this.animationItem$.next(e))})}destroyAnimation(){let t=this.animationItem$.getValue();t!==null&&(t.destroy(),this.animationItem$.next(null))}static{this.\u0275fac=function(e){return new(e||n)}}static{this.\u0275dir=O({type:n,selectors:[["","lottie",""]],inputs:{options:"options",containerClass:"containerClass",styles:"styles"},outputs:{animationCreated:"animationCreated",complete:"complete",loopComplete:"loopComplete",enterFrame:"enterFrame",segmentStart:"segmentStart",configReady:"configReady",dataReady:"dataReady",domLoaded:"domLoaded",destroy:"destroy",error:"error"}})}}return n})();var Tt=(()=>{class n extends G{constructor(){super(...arguments),this.width=null,this.height=null,this.container=null}ngOnChanges(t){super.loadAnimation(t,this.container.nativeElement)}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=F(n)))(i||n)}})()}static{this.\u0275cmp=C({type:n,selectors:[["ng-lottie"]],viewQuery:function(e,i){if(e&1&&T(Q,7),e&2){let r;N(r=E())&&(i.container=r.first)}},inputs:{width:"width",height:"height"},standalone:!0,features:[x,L,P],decls:2,vars:6,consts:[["container",""],[3,"ngStyle","ngClass"]],template:function(e,i){e&1&&$(0,"div",1,0),e&2&&(R("width",i.width||"100%")("height",i.height||"100%"),M("ngStyle",i.styles)("ngClass",i.containerClass))},dependencies:[B,q],encapsulation:2,changeDetection:0})}}return n})();export{tt as a,$t as b,Tt as c};
